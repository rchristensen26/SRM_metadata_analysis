"0",""
"0","# renaming columns in sample_otu_matrix to match tip_glom_cluster otu name format"
"0","# "
"0","# sample_otu_matrix <- sample_otu_matrix %>%"
"0","#   rename("
"0","#     Desulfitobacterium_sp._PCE.1__DstSpe13 = `Desulfitobacterium_sp._PCE-1__DstSpe13`,"
"0","#     Gordonibacter_pamelaeae_7.10.1.b__FP929047 = `Gordonibacter_pamelaeae_7-10-1-b__FP929047`,"
"0","#     Rice_field_soil_clone_Bu.23__JN615148 = `Rice_field_soil_clone_Bu-23__JN615148`"
"0","#   )"
"0","  "
"0","sample_species_matrix <- matrix(data = 0,"
"0","       nrow = nrow(sample_otu_matrix),"
"0","       ncol = length(unique(tip_glom_cluster$cluster_name_01)))"
"0",""
"0","rownames(sample_species_matrix) <- sample_otu_matrix$sample_id"
"0","colnames(sample_species_matrix) <- c(unique(tip_glom_cluster$cluster_name_01))"
"0",""
"0","for (species in colnames(sample_species_matrix)) {"
"0","  OTUs <- (subset(tip_glom_cluster$otu, tip_glom_cluster$cluster_name_01 == species))"
"0",""
"0","  for (n_row in 1:nrow(sample_species_matrix)) {"
"0","    for (OTU in OTUs) {"
"0","      if (sample_otu_matrix[n_row, OTU] == 1) {"
"0","        sample_species_matrix[n_row, species] <- 1"
"0","      }"
"0","    }"
"0","  }"
"0","}"
"0",""
"0","write.csv(sample_species_matrix, ""sample_species_matrix.csv"")"
