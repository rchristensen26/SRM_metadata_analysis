"0","# check that OTU sums stay the same when 21 and 22 dfs are merged by OTU column names and sample_id"
"0",""
"0","# check the column names that are teh same between 21 and 22, then make a vector of the OTUs that are in common"
"0","common_OTUs <- intersect(colnames(dataset21), colnames(dataset))[11:45]"
"0","# "
"0","# columns_to_join <- c(""sample_id"", ""country"", ""geographic location"", ""sex_all"", ""age_years"")"
"0","# "
"0","# columns_to_join <- append(columns_to_join, common_OTUs)"
"0",""
"0","# actually. I'm just going to merge by all columns in common"
"0",""
"0","# columns_to_join <- intersect(colnames(dataset21), colnames(dataset))"
"0","# "
"0","# joined_21and22 <- merge(dataset21, sample_metadata_2022, by = columns_to_join, all = TRUE, suffixes = c(""_21"", ""_22""))"
"0",""
"0","for (OTU in common_OTUs) {"
"0","  sum_21_22 <- sum(dataset21[,OTU]) + sum(sample_metadata_2022[,OTU])"
"0","  if (sum_21_22 != sum(joined2[,OTU])) {"
"0","    print(paste(OTU, ""is not the same!""))"
"0","  }"
"0","  else{"
"0","    print(""all good!"")"
"0","  }"
"0","}"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"1","[1]"
"1"," ""all good!"""
"1","
"
"0","# column sums for OTUs is all good!"
"0",""
"0","# next: time to add info for country, sex, and age ..."
"0",""
